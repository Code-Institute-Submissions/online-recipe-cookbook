{%extends 'base.html'%}
{% block content %}
<!DOCTYPE html>
<html>
    <head>
        
    </head>
    <body>
       <div class="container">
    <div class="row">
    <div class="col s12 m12 centre-align">
      <div class="card">
        <div class="card-image medium">
          <img src="{{recipe.image_link}}">
          <span class="card-title">{{recipe.recipe_name}}</span>
        </div>
        <div class="card-content">
          <div class="row">
            <p><b> Prep time: </b> {{recipe.prep_time}}</p>
          </div>
          <div class="row">
            <p><b> Cook time: </b> {{recipe.cook_time}}</p>
          </div>
          <div class="row">
            <p><b> Calories: </b> {{recipe.calories}}</p>
          </div>
          <div class="row">
            <p><b> Tools used: </b> {{recipe.tools_used}}</p>
          </div>
          <div class="row">
            <p><b> Special </b> {{recipe.dietary_needs}}</p>
          </div>
          <div class="row">
            <p><b> Method: </b>{{recipe.method_steps}}</p>
          </div>

        </div>
        <div class="card-action">
          <h4> Like this recipe? Share the love </h4>
          <div class="row">
            <span><a href="{{url_for('add_like_to_recipe', recipe_id=recipe._id)}}"><i class="material-icons left">favorite</i></a> <p>{{recipe.likes}}</p></span>
          </div>
        </div>
        <div class="card-action">
                    <h4>Add comment</h4>
           <div class="row">
            <form action="{{url_for('add_comment_to_recipe', recipe_id=recipe._id)}}" method="POST" class="col s12">
              <div class="row">
                <div class="input-field col s6">
                  <i class="material-icons prefix">account_circle</i>
                  <input id="icon_prefix" type="text" name="username" id="username"class="validate" required>
                  <label for="icon_prefix">Username</label>
                </div>

                 </div>
                <div class="row">
                  <div class="input-field col s12">
                      <i class="material-icons prefix">comment</i>
                      <textarea name="comment" id="comment" class="materialize-textarea" required></textarea>
                      <label for="comment">Your comment</label>
                  </div>
                </div>
             <div class="row">
              <button class="btn waves-effect waves-light" type="submit" name="action">Post Comment
                  <i class="material-icons right">playlist_add</i>
               </button>
              </div>
            </form>
          </div>
        </div>
        <div class="card-action">
          <h4>See what others have said..</h4>
        
         {% for comment in comments %}
         <div class="row">
          <div class="col s12 m12">
            <div class="card">
              <div class="card-content black-text">
                
                <span class="card-title"><b>{{comment.username}}</b></span>
                <p>{{comment.comment}}</p>
              </div>
              
            </div>
          </div>
        </div>
              
        {%endfor  %}
        </div>
      </div>
    </div>
  </div>
       </div>
    </body>
</html>
{% endblock %}